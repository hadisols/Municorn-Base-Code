<apex:page showHeader="false" sidebar="false" showChat="false" showQuickActionVfHeader="false" 
                controller="PaymentFormController" action="{!initPage}">
    <body>
        <apex:slds />
        <div class="payment-form-body" style="display:block">
            <div id="spinner" class="slds-spinner_container">
                <div role="status" class="slds-spinner slds-spinner--large slds-spinner--brand">
                    <div class="slds-spinner__dot-a"></div>
                    <div class="slds-spinner__dot-b"></div>
                </div>
            </div>
        <!-- Start New Markup -->
        <apex:pageBlock >
            <h3 style="margin-bottom: 20px;">Sandbox
                <span>Payment </span></h3>
            <apex:pageBlockTable value="{!paymentRequests}" var="req"  styleClass="payment-summary">
                <apex:column >
                    <apex:facet name="header">Amount</apex:facet>
                    <apex:outputlabel value="{!req.Amount__c}" />
                    <input type="hidden" id="selected-amount" value="{!req.Amount__c}"/>
                    <input type="hidden" id="selected-amount-ach" value="{!req.Amount__c}"/>
          			<input type="hidden" id="selected-val" value="" />
                </apex:column>
            </apex:pageBlockTable>
            <div id='table-cc' class="invoice-table">
                <div class="container">
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-md-6 col-md-offset-3 body-main">
                                <div class="col-md-12">
                                    <div>
                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <th>
                                                        <h5>Description</h5>
                                                    </th>
                                                    <th>
                                                        <h5>Amount</h5>
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td class="col-md-9">Payable Amount</td>
                                                    <td class="col-md-3"><i class="fas fa-dollar-sign"></i> <span class='payableamount'>50,000</span> </td>
                                                </tr>
                                                <tr class="cctax">
                                                    <td class="col-md-9">Credit Card Tax</td>
                                                    <td class="col-md-3"><i class="fas fa-dollar-sign"></i> <span class='ccamount'>50,000</span> </td>
                                                </tr>
                                                <tr style="color: #F81D2D;">
                                                    <td class="text-right">
                                                        <h4><strong>Total:</strong></h4>
                                                    </td>
                                                    <td class="text-left">
                                                        <h4><strong><i class="fas fa-dollar-sign"></i> <span class='totalamount'>79,900</span> </strong></h4>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div>
                                        <div class="col-md-12">
                                            <p><b>Date :</b> 6 June 2019</p> <br />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id='table-ach'>

            </div>
            <button id="chargeCreditCard" class="slds-hide">Charge</button>
            <div id="tabs">
                <ul>
                    <li id="cards-tab-header"><a href="#cards-tab">Credit Card + 3.99% tax</a></li>
                    <li id="banks-tab-header"><a href="#ach-tab">Bank Payment</a></li>
                </ul>
                <div id="cards-tab">
                    
                </div>
                <div id="ach-tab">
                    <!--
                    <apex:pageBlockSection columns="1">
                        <apex:pageBlockSectionItem >
                            <apex:outputPanel >
                                <div class="payment-group">
                                    <iframe id="add_payment_ach" class="embed-responsive-item panel" name="add_payment_ach" width="100%" height="800px" frameborder="0" scrolling="no">
                                    </iframe>
                                </div>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                    </apex:pageBlockSection>
					-->
                </div>
            </div>
            <apex:pageBlockSection columns="1">
                        <apex:pageBlockSectionItem >
                            <apex:outputPanel >
                                <div class="payment-group">
                                    <div id="iframe_holder" class="center-block" style="width:90%;">
                                        <iframe id="add_payment" class="embed-responsive-item panel" name="add_payment" width="100%" height="1400px" frameborder="0" scrolling="no">
                                        </iframe>
                                    </div>
                                </div>
                            </apex:outputPanel>
                        </apex:pageBlockSectionItem>
                    </apex:pageBlockSection>
        </apex:pageBlock>
        </div>    
        <!-- End New Markup -->
        <apex:outputPanel id="showstate">
            <input type="hidden" id="inputtoken" value="{!pageToken}" />
           <!-- <apex:pageMessage summary="{!pageToken}" severity="error"/> -->
        </apex:outputPanel>
        
        <form method="post" action="" id="send_token" name="formAuthorizeNetTestPage" target="add_payment">
            <input type="hidden" id="redirectToken" name="token" value="" />
		</form>
    </body>

    
    <apex:form >
        <!-- Define the JavaScript function sayHello-->
        <!-- <apex:actionFunction name="sayHello" action="{!sayHello}" rerender="out" status="myStatus"/> -->
        <apex:actionFunction name="performCharge" action="{!getToken}" oncomplete="assignRefreshToken()" reRender="showstate">
            <apex:param name="request" assignTo="{!selectedMethod}" value=""/>
        </apex:actionFunction>
        <apex:actionFunction name="performUpdate" action="{!updateTransaction}" oncomplete="" reRender="">
            <apex:param name="request" assignTo="{!response}" value="" />
        </apex:actionFunction>

    </apex:form>
    <apex:stylesheet value="{!$Resource.transaction_css}"/>
    <apex:stylesheet value="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/fontawesome.min.css" />
    <apex:stylesheet value="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
        <apex:stylesheet value="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"/>
    <apex:stylesheet value="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"/>
     <apex:includeScript value="{!$Resource.jquery}"/>
    <apex:includeScript value="https://code.jquery.com/ui/1.12.1/jquery-ui.js"/>
    <apex:includeScript value="{!$Resource.form_helper_new}"/>
        
<apex:includeScript value="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"/>
<apex:includeScript value="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"/>
<style>
body {
  font-family: Arial;
  font-size: 17px;
  padding: 8px;
}

* {
  box-sizing: border-box;
}
hr {
  border: 1px solid lightgrey;
}
    #tabs .ui-tabs-nav .ui-state-active {
        background: transparent url('{!$Resource.tab_panel_arrow_image}') no-repeat bottom center;
        border: none;
        }
</style>

</apex:page>